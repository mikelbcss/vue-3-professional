Convierte este componente completo de Vue 2 a Vue 3 usando la Composition API. Este ejercicio combina mÃºltiples conceptos de migraciÃ³n en un solo componente real.

## Conceptos que AprenderÃ¡s

- **MigraciÃ³n de Filters** â†’ Computed properties o funciones
- **Class y Style Bindings** â†’ v-bind con CSS variables
- **Template Refs** â†’ ref() y acceso al DOM
- **Watchers** â†’ watch() y watchEffect()
- **Events** â†’ defineEmits()

## El Componente Original

El componente es un **formateador de mensajes** con las siguientes caracterÃ­sticas:

### Funcionalidades Vue 2 que debes migrar:

1. **Filters**: `capitalize` y `addPrefix` para formatear texto
2. **Template Refs**: `$refs.messageInput` para enfocar el input
3. **Watchers**: Observa cambios en `message`, `isDarkMode`, y `fontSize`
4. **Class/Style Bindings**: Manejo manual de clases y estilos
5. **Events**: `$emit('message-sent', data)` para comunicaciÃ³n padre-hijo

## Tareas de MigraciÃ³n

### 1. **Script Setup y TypeScript**
```typescript
<script setup lang="ts">
// Convierte el componente a script setup con TypeScript
</script>
```

### 2. **Props y Emits**
```typescript
// Convierte props usando defineProps<T>()
const props = defineProps<{
  title?: string
}>()

// Convierte $emit usando defineEmits<T>()
const emit = defineEmits<{
  'message-sent': [payload: { original: string; formatted: string; timestamp: string }]
}>()
```

### 3. **Reactividad (ref y reactive)**
```typescript
// Convierte data() a ref() para valores primitivos
const message = ref('')
const isDarkMode = ref(false)
// ... etc
```

### 4. **Computed Properties**
```typescript
// MantÃ©n las computed properties pero actualiza la sintaxis
const containerClass = computed(() => ({
  'dark-mode': isDarkMode.value,
  'light-mode': !isDarkMode.value
}))
```

### 5. **Watchers**
```typescript
// Convierte watchers usando watch()
watch(message, (newMessage) => {
  console.log('ðŸ’¬ Message changed:', newMessage)
  // ... lÃ³gica del watcher
})
```

### 6. **Template Refs**
```typescript
// Convierte $refs usando ref()
const messageInput = ref<HTMLInputElement>()

const focusInput = () => {
  messageInput.value?.focus()
}
```

### 7. **MigraciÃ³n de Filters**
Los filters no existen en Vue 3, tienes dos opciones:

**OpciÃ³n A: Computed Properties**
```typescript
const formattedMessage = computed(() => {
  if (!message.value) return ''
  return `ðŸ“ ${capitalize(message.value)}`
})
```

**OpciÃ³n B: Funciones Helper**
```typescript
const capitalize = (value: string): string => {
  if (!value) return ''
  return value.charAt(0).toUpperCase() + value.slice(1)
}
```

### 8. **v-bind en CSS (Bonus)**
Puedes usar v-bind para pasar valores reactivos al CSS:

```vue
<style scoped>
.container {
  font-size: v-bind(fontSizeValue);
  color: v-bind(textColor);
}
</style>
```

### 9. **Methods**
```typescript
// Convierte methods a funciones normales
const sendMessage = () => {
  if (message.value.trim()) {
    const payload = {
      original: message.value,
      formatted: formatMessage(message.value),
      timestamp: new Date().toISOString()
    }

    emit('message-sent', payload)
    message.value = ''
  }
}
```

## Pistas Importantes

### Imports Necesarios
```typescript
import { ref, computed, watch, onMounted } from 'vue'
```

### Diferencias Clave
- **No mÃ¡s `this`**: Usa las variables directamente
- **`.value`**: Necesario para acceder/modificar refs en JavaScript
- **Template refs**: Usa `ref<HTMLElement>()` con TypeScript
- **Watchers**: `watch(source, callback)` en lugar de `watch: {}`
- **Emits**: `emit('event-name', data)` en lugar de `$emit`

### Estructura del Template
El template permanece casi igual, solo cambia:
- `ref="messageInput"` sigue igual
- Reemplaza `{{ message | capitalize | addPrefix }}` con computed o funciones
- Los event handlers `@click="method"` siguen igual

## Resultado Esperado

Al final tendrÃ¡s un componente Vue 3 moderno que:
- âœ… Usa TypeScript con tipos seguros
- âœ… Aprovecha la Composition API
- âœ… Tiene mejor rendimiento sin filters
- âœ… Usa v-bind en CSS para estilos dinÃ¡micos
- âœ… Mantiene toda la funcionalidad original

Â¡Recuerda probar todas las funcionalidades despuÃ©s de la migraciÃ³n!
